<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="order">
	<select id="getCartInfo" parameterType="String" resultType="cartInfoDto">
		select * from cart_info where partner_order_id = #{partner_order_id}
	</select>
	
	<select id="getCartInfoGoods" parameterType="int" resultType="cartInfoGoodsDto">
		select * from cart_info_goods where cart_info_no = #{cart_info_no}
	</select>
	
	<select id="getCartInfoOp" parameterType="int" resultType="cartInfoOpDto">
		select * from cart_info_op where cart_info_goods_no = #{cart_info_goods_no}
	</select>
	
	<select id="getMember_no" parameterType="String" resultType="int">
		select member_no from cart_info where partner_order_id = #{partner_order_id}
	</select>
	
	<select id="getOrdering_no" parameterType="String" resultType="int">
		select ordering_no from ordering where partner_order_id = #{partner_order_id} and ordering_status = '결제완료'
	</select>
</mapper>